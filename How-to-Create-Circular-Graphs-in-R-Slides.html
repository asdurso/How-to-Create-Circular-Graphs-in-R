<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content=" Amanda Sahar d’Urso  PhD Candidate | Northwestern University " />
  <meta name="dcterms.date" content="2021-08-03" />
  <title>How to Create Circular Graphs in R</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="How-to-Create-Circular-Graphs-in-R-Slides_files/reveal.js-3.3.0.1/css/reveal.css"/>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="How-to-Create-Circular-Graphs-in-R-Slides_files/reveal.js-3.3.0.1/css/theme/blood.css" id="theme">

<style type="text/css">
.reveal section img {
  background: rgba(255, 255, 255, 0.85);
}
</style>

  <!-- some tweaks to reveal css -->
  <style type="text/css">
    .reveal h1 { font-size: 2.0em; }
    .reveal h2 { font-size: 1.5em;  }
    .reveal h3 { font-size: 1.25em;	}
    .reveal h4 { font-size: 1em;	}

    .reveal .slides>section,
    .reveal .slides>section>section {
      padding: 0px 0px;
    }



    .reveal table {
      border-width: 1px;
      border-spacing: 2px;
      border-style: dotted;
      border-color: gray;
      border-collapse: collapse;
      font-size: 0.7em;
    }

    .reveal table th {
      border-width: 1px;
      padding-left: 10px;
      padding-right: 25px;
      font-weight: bold;
      border-style: dotted;
      border-color: gray;
    }

    .reveal table td {
      border-width: 1px;
      padding-left: 10px;
      padding-right: 25px;
      border-style: dotted;
      border-color: gray;
    }


  </style>

    <style type="text/css">code{white-space: pre;}</style>


<!-- Printing and PDF exports -->
<script id="paper-css" type="application/dynamic-css">

/* Default Print Stylesheet Template
   by Rob Glazebrook of CSSnewbie.com
   Last Updated: June 4, 2008

   Feel free (nay, compelled) to edit, append, and
   manipulate this file as you see fit. */


@media print {

	/* SECTION 1: Set default width, margin, float, and
	   background. This prevents elements from extending
	   beyond the edge of the printed page, and prevents
	   unnecessary background images from printing */
	html {
		background: #fff;
		width: auto;
		height: auto;
		overflow: visible;
	}
	body {
		background: #fff;
		font-size: 20pt;
		width: auto;
		height: auto;
		border: 0;
		margin: 0 5%;
		padding: 0;
		overflow: visible;
		float: none !important;
	}

	/* SECTION 2: Remove any elements not needed in print.
	   This would include navigation, ads, sidebars, etc. */
	.nestedarrow,
	.controls,
	.fork-reveal,
	.share-reveal,
	.state-background,
	.reveal .progress,
	.reveal .backgrounds {
		display: none !important;
	}

	/* SECTION 3: Set body font face, size, and color.
	   Consider using a serif font for readability. */
	body, p, td, li, div {
		font-size: 20pt!important;
		font-family: Georgia, "Times New Roman", Times, serif !important;
		color: #000;
	}

	/* SECTION 4: Set heading font face, sizes, and color.
	   Differentiate your headings from your body text.
	   Perhaps use a large sans-serif for distinction. */
	h1,h2,h3,h4,h5,h6 {
		color: #000!important;
		height: auto;
		line-height: normal;
		font-family: Georgia, "Times New Roman", Times, serif !important;
		text-shadow: 0 0 0 #000 !important;
		text-align: left;
		letter-spacing: normal;
	}
	/* Need to reduce the size of the fonts for printing */
	h1 { font-size: 28pt !important;  }
	h2 { font-size: 24pt !important; }
	h3 { font-size: 22pt !important; }
	h4 { font-size: 22pt !important; font-variant: small-caps; }
	h5 { font-size: 21pt !important; }
	h6 { font-size: 20pt !important; font-style: italic; }

	/* SECTION 5: Make hyperlinks more usable.
	   Ensure links are underlined, and consider appending
	   the URL to the end of the link for usability. */
	a:link,
	a:visited {
		color: #000 !important;
		font-weight: bold;
		text-decoration: underline;
	}
	/*
	.reveal a:link:after,
	.reveal a:visited:after {
		content: " (" attr(href) ") ";
		color: #222 !important;
		font-size: 90%;
	}
	*/


	/* SECTION 6: more reveal.js specific additions by @skypanther */
	ul, ol, div, p {
		visibility: visible;
		position: static;
		width: auto;
		height: auto;
		display: block;
		overflow: visible;
		margin: 0;
		text-align: left !important;
	}
	.reveal pre,
	.reveal table {
		margin-left: 0;
		margin-right: 0;
	}
	.reveal pre code {
		padding: 20px;
		border: 1px solid #ddd;
	}
	.reveal blockquote {
		margin: 20px 0;
	}
	.reveal .slides {
		position: static !important;
		width: auto !important;
		height: auto !important;

		left: 0 !important;
		top: 0 !important;
		margin-left: 0 !important;
		margin-top: 0 !important;
		padding: 0 !important;
		zoom: 1 !important;

		overflow: visible !important;
		display: block !important;

		text-align: left !important;
		-webkit-perspective: none;
		   -moz-perspective: none;
		    -ms-perspective: none;
		        perspective: none;

		-webkit-perspective-origin: 50% 50%;
		   -moz-perspective-origin: 50% 50%;
		    -ms-perspective-origin: 50% 50%;
		        perspective-origin: 50% 50%;
	}
	.reveal .slides section {
		visibility: visible !important;
		position: static !important;
		width: auto !important;
		height: auto !important;
		display: block !important;
		overflow: visible !important;

		left: 0 !important;
		top: 0 !important;
		margin-left: 0 !important;
		margin-top: 0 !important;
		padding: 60px 20px !important;
		z-index: auto !important;

		opacity: 1 !important;

		page-break-after: always !important;

		-webkit-transform-style: flat !important;
		   -moz-transform-style: flat !important;
		    -ms-transform-style: flat !important;
		        transform-style: flat !important;

		-webkit-transform: none !important;
		   -moz-transform: none !important;
		    -ms-transform: none !important;
		        transform: none !important;

		-webkit-transition: none !important;
		   -moz-transition: none !important;
		    -ms-transition: none !important;
		        transition: none !important;
	}
	.reveal .slides section.stack {
		padding: 0 !important;
	}
	.reveal section:last-of-type {
		page-break-after: avoid !important;
	}
	.reveal section .fragment {
		opacity: 1 !important;
		visibility: visible !important;

		-webkit-transform: none !important;
		   -moz-transform: none !important;
		    -ms-transform: none !important;
		        transform: none !important;
	}
	.reveal section img {
		display: block;
		margin: 15px 0px;
		background: rgba(255,255,255,1);
		border: 1px solid #666;
		box-shadow: none;
	}

	.reveal section small {
		font-size: 0.8em;
	}

}  
</script>


<script id="pdf-css" type="application/dynamic-css">
    
/**
 * This stylesheet is used to print reveal.js
 * presentations to PDF.
 *
 * https://github.com/hakimel/reveal.js#pdf-export
 */

* {
	-webkit-print-color-adjust: exact;
}

body {
	margin: 0 auto !important;
	border: 0;
	padding: 0;
	float: none !important;
	overflow: visible;
}

html {
	width: 100%;
	height: 100%;
	overflow: visible;
}

/* Remove any elements not needed in print. */
.nestedarrow,
.reveal .controls,
.reveal .progress,
.reveal .playback,
.reveal.overview,
.fork-reveal,
.share-reveal,
.state-background {
	display: none !important;
}

h1, h2, h3, h4, h5, h6 {
	text-shadow: 0 0 0 #000 !important;
}

.reveal pre code {
	overflow: hidden !important;
	font-family: Courier, 'Courier New', monospace !important;
}

ul, ol, div, p {
	visibility: visible;
	position: static;
	width: auto;
	height: auto;
	display: block;
	overflow: visible;
	margin: auto;
}
.reveal {
	width: auto !important;
	height: auto !important;
	overflow: hidden !important;
}
.reveal .slides {
	position: static;
	width: 100%;
	height: auto;

	left: auto;
	top: auto;
	margin: 0 !important;
	padding: 0 !important;

	overflow: visible;
	display: block;

	-webkit-perspective: none;
	   -moz-perspective: none;
	    -ms-perspective: none;
	        perspective: none;

	-webkit-perspective-origin: 50% 50%; /* there isn't a none/auto value but 50-50 is the default */
	   -moz-perspective-origin: 50% 50%;
	    -ms-perspective-origin: 50% 50%;
	        perspective-origin: 50% 50%;
}

.reveal .slides section {
	page-break-after: always !important;

	visibility: visible !important;
	position: relative !important;
	display: block !important;
	position: relative !important;

	margin: 0 !important;
	padding: 0 !important;
	box-sizing: border-box !important;
	min-height: 1px;

	opacity: 1 !important;

	-webkit-transform-style: flat !important;
	   -moz-transform-style: flat !important;
	    -ms-transform-style: flat !important;
	        transform-style: flat !important;

	-webkit-transform: none !important;
	   -moz-transform: none !important;
	    -ms-transform: none !important;
	        transform: none !important;
}

.reveal section.stack {
	margin: 0 !important;
	padding: 0 !important;
	page-break-after: avoid !important;
	height: auto !important;
	min-height: auto !important;
}

.reveal img {
	box-shadow: none;
}

.reveal .roll {
	overflow: visible;
	line-height: 1em;
}

/* Slide backgrounds are placed inside of their slide when exporting to PDF */
.reveal section .slide-background {
	display: block !important;
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	z-index: -1;
}

/* All elements should be above the slide-background */
.reveal section>* {
	position: relative;
	z-index: 1;
}

/* Display slide speaker notes when 'showNotes' is enabled */
.reveal .speaker-notes-pdf {
	display: block;
	width: 100%;
	max-height: none;
	left: auto;
	top: auto;
	z-index: 100;
}

/* Display slide numbers when 'slideNumber' is enabled */
.reveal .slide-number-pdf {
	display: block;
	position: absolute;
	font-size: 14px;
}

</script>


<script>
var style = document.createElement( 'style' );
style.type = 'text/css';
var style_script_id = window.location.search.match( /print-pdf/gi ) ? 'pdf-css' : 'paper-css';
var style_script = document.getElementById(style_script_id).text;
style.innerHTML = style_script;
document.getElementsByTagName('head')[0].appendChild(style);
</script>

    <script src="How-to-Create-Circular-Graphs-in-R-Slides_files/header-attrs-2.9/header-attrs.js"></script>
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section>
    <h1 class="title">How to Create Circular Graphs in R</h1>
    <h2 class="author"><font style=text-transform:none> Amanda Sahar d’Urso<br />
<small> PhD Candidate | Northwestern University </small></font></h2>
    <h3 class="date"><small>2021-08-03</small></h3>
</section>

<section>
<section id="circular-graphs" class="title-slide slide level1">
<h1>Circular Graphs</h1>
<p>Examples of uses: &gt;- Displaying hierarchical data &gt; - Regions &gt; States &gt; Data &gt; - Schools &gt; Years &gt; Scores &gt; - Companies &gt; Departments &gt; Data</p>
</section>
<section id="circular-graphs-1" class="slide level2">
<h2>Circular Graphs</h2>
<center>
<img data-src="Figures/11.png" alt="11" />
</center>
</section>
<section id="objectives" class="slide level2">
<h2>Objectives</h2>
<p>This document provides an easy guide for how to display data in a circular format using <code>circlize</code>.The data used are publicly available data on state characteristics and opioid use and misuse. The data were compiled by <a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0245920">Gallo et al. (2021)</a>. This tutorial supplements <a href="https://jokergoo.github.io/circlize_book/book/index.html">“Circular Visualization in R” by Zuguang Gu</a>.</p>
</section>
<section id="terminology" class="slide level2">
<h2>Terminology</h2>
<p>The main components of circular graphs are <em>sectors</em>, <em>tracks</em>, and <em>cells</em>.</p>
<ul>
<li class="fragment"><strong>Sectors</strong>: Sectors comprise each ‘slice’ of the circular graph</li>
<li class="fragment"><strong>Tracks</strong>: Tracks comprise each ‘ring’ of the circular graph</li>
<li class="fragment"><strong>Cells</strong>: Cells are individual components of the circular graph</li>
</ul>
</section>
<section id="definition-of-circular-graph" class="slide level2">
<h2>Definition of Circular Graph</h2>
<p>From the <code>circlize</code> manual: <em>“A circular layout is composed of sectors and tracks. For data in different categories, they are allocated into different sectors, and for multiple measurements on the same category, they are represented as stacked tracks from outside of the circle to the inside. The intersection of a sector and a track is called a cell (or a grid, a panel), which is the basic unit in a circular layout. It is an imaginary plotting region for drawing data points.”</em></p>
</section></section>
<section>
<section id="set-up" class="title-slide slide level1">
<h1>Set-up</h1>
<ul>
<li class="fragment">Load Packages</li>
<li class="fragment">Functions
<ul>
<li class="fragment">Refresher</li>
</ul></li>
<li class="fragment">Load Data</li>
</ul>
</section>
<section id="load-packages" class="slide level2">
<h2>Load packages</h2>
<p>First, we will set up our workspace by loading any packages, data, and functions we will use.</p>
<p class="fragment">
Typically, it is advised to load <code>tidyverse</code> last, because we usually want to use the defaults associated with <code>tidyverse</code>. However, in the case that there are incompatibilities with <code>circlize</code>, I suggest loading <code>circlize</code> last.
</p>
<pre class="fragment">

```r
library(broom)
library(tidyverse)
library(circlize)
```
</pre>
</section>
<section id="functions-refresher" class="slide level2">
<h2>Functions Refresher</h2>
<p><a href="https://www.datacamp.com/community/tutorials/functions-in-r-a-tutorial?utm_source=adwords_ppc&amp;utm_campaignid=1565261270&amp;utm_adgroupid=67750485268&amp;utm_device=c&amp;utm_keyword=&amp;utm_matchtype=b&amp;utm_network=g&amp;utm_adpostion=&amp;utm_creative=295208661502&amp;utm_targetid=dsa-473406575675&amp;utm_loc_interest_ms=&amp;utm_loc_physical_ms=9021731&amp;gclid=CjwKCAjwo4mIBhBsEiwAKgzXOG1Gn4B75j8nOJwVX-SPYORXI6jpDyT35llOZ9VlqvAEG88ik-jIbRoCV0wQAvD_BwE#what">Functions</a> (click for helpful post on functions) are a ‘set of instructions’</p>
<p class="fragment">
Typically, we use functions that someone else has already created for us when coding, especially in R
</p>
<p class="fragment">
But we are <em>special</em>; we want to create something new, something no one else has come up with before
</p>
<p class="fragment">
So we create ‘user-defined functions’
</p>
</section>
<section id="functions-refresher-1" class="slide level2">
<h2>Functions Refresher</h2>
<p>Take the common function <code>mean</code>, if we use the help file, we see that <code>mean</code> is a function, comprised of arguments–conditions under which <code>mean</code> will work and instructions on how to work</p>
<div style="width:550px; margin:0 auto">
<p><img class="fragment" src="Figures/mean%20arg.png"/></p>
</div>
</section>
<section id="components-of-functions" class="slide level2">
<h2>Components of Functions</h2>
<p>Hence, functions take on the structure</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">function_name</span>(argument_list)</span></code></pre></div>
<p class="fragment">
If you want to create your own:
</p>
<pre class="fragment">


```r
function_name <- function(argument_list){
  component of argument
}
```
</pre>
</section>
<section id="example-function" class="slide level2">
<h2>Example Function</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>myFirstFun <span class="ot">&lt;-</span> <span class="cf">function</span>(n) {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Compute the square of integer `n`</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    n <span class="sc">*</span> n</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre class="fragment">
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">myFirstFun</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] 100</code></pre>
</section>
<section id="color-function" class="slide level2">
<h2>Color Fun(ction)</h2>
<p>Next, we will load our function. The function <code>color_fun</code> helps create a scales of colors based on the minimum values, maximum values, and median values of the data columns we specify.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>color_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(data, variable, color1, color2,</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    color3) {</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># gets summary data for column</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    sum_var <span class="ot">&lt;-</span> <span class="fu">summary</span>(<span class="fu">eval</span>(<span class="fu">substitute</span>(data<span class="sc">$</span>variable))) <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>        broom<span class="sc">::</span><span class="fu">tidy</span>()</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># specifies colors for each value, minimum,</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># median, and maximum</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    colfun_var <span class="ot">&lt;-</span> <span class="fu">colorRamp2</span>(<span class="fu">c</span>(sum_var<span class="sc">$</span>minimum, sum_var<span class="sc">$</span>median,</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>        sum_var<span class="sc">$</span>maximum), <span class="fu">c</span>(color1, color2, color3))</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># applies `colorRamp2` to get the specific</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># color label</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">colfun_var</span>(<span class="fu">eval</span>(<span class="fu">substitute</span>(data<span class="sc">$</span>variable)))</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</section>
<section id="data-import" class="slide level2">
<h2>Data import</h2>
<p>We then import our data. In this case, I have also appended codes for regions of the United States by states. This new variable is called <code>region</code>. For simplicity, I have not included the code for <code>region</code> in this tutorial.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>pub_dat <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;pub_dat_cleaned.csv&quot;</span>)</span></code></pre></div>
</section>
<section id="clean-data" class="slide level2">
<h2>Clean Data</h2>
<p>Next, we should arrange our states in a manner that corresponds with our regions. That is, our states will be groups within regions.</p>
<p class="fragment" data-fragment-index="1">
In the example below, I show one way to accomplish this. In this case, I specify the factor order of the states to align with regional groupings.
</p>
<p><code class="fragment" data-fragment-index="2"></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>pub_dat <span class="ot">&lt;-</span> pub_dat <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">state_abbreviation =</span> <span class="fu">fct_reorder</span>(state_abbreviation,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>        region, min)) <span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(state_abbreviation)</span></code></pre></div>
<p></code></p>
</section></section>
<section>
<section id="grouping-sectors" class="title-slide slide level1">
<h1>Grouping Sectors</h1>
<p>We can easily group variables by the smallest unit available in the data and of interest. In this case, we have data at the state level. But we may also wish to group states within regions. That is, we may want to do additional groupings at a larger level than our primary unit.</p>
</section>
<section id="secondary-groupings-first" class="slide level2">
<h2>Secondary Groupings First</h2>
<p>In this case, it is easier to create these secondary groupings before creating our circular graph. This is because the circular graph is created using base R, which layers parts of the graph. It is easier to layer using information we have created beforehand. In this case, it is the regional groupings. To do this, we create subsetted versions of the data by region, as shown below.</p>
</section>
<section id="highlight-sectors" class="slide level2">
<h2>Highlight Sectors</h2>
<p>Once we make this secondary level grouping, we can use the circlize function <code>highlight.sector</code> to outline the secondary-level groupings. Before we can highlight the sectors we want, we must create a string of characters which include the state names we want to group together.</p>
</section>
<section id="highlight-sectors-1" class="slide level2">
<h2>Highlight Sectors</h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>en_central <span class="ot">&lt;-</span> pub_dat<span class="sc">$</span>state_abbreviation[pub_dat<span class="sc">$</span>region <span class="sc">==</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;E.N. Central&quot;</span>]  <span class="co">#groups the states in East North Central</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>es_central <span class="ot">&lt;-</span> pub_dat<span class="sc">$</span>state_abbreviation[pub_dat<span class="sc">$</span>region <span class="sc">==</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;E.S. Central&quot;</span>]  <span class="co">#groups the states in East South Central</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>mid_atlantic <span class="ot">&lt;-</span> pub_dat<span class="sc">$</span>state_abbreviation[pub_dat<span class="sc">$</span>region <span class="sc">==</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Mid-Atlantic&quot;</span>]  <span class="co">#groups the states in the Mid-Atlantic</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>mountain <span class="ot">&lt;-</span> pub_dat<span class="sc">$</span>state_abbreviation[pub_dat<span class="sc">$</span>region <span class="sc">==</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Mountain&quot;</span>]  <span class="co">#groups the states in Mountain region</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>new_england <span class="ot">&lt;-</span> pub_dat<span class="sc">$</span>state_abbreviation[pub_dat<span class="sc">$</span>region <span class="sc">==</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;New England&quot;</span>]  <span class="co">#groups the states in New England</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>pacific <span class="ot">&lt;-</span> pub_dat<span class="sc">$</span>state_abbreviation[pub_dat<span class="sc">$</span>region <span class="sc">==</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Pacific&quot;</span>]  <span class="co">#groups the states in the Pacific region</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>south_atlantic <span class="ot">&lt;-</span> pub_dat<span class="sc">$</span>state_abbreviation[pub_dat<span class="sc">$</span>region <span class="sc">==</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;South Atlantic&quot;</span>]  <span class="co">#groups the states in the South Atlantic</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>wn_central <span class="ot">&lt;-</span> pub_dat<span class="sc">$</span>state_abbreviation[pub_dat<span class="sc">$</span>region <span class="sc">==</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;W.N. Central&quot;</span>]  <span class="co">#groups the states in West North Central</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>ws_central <span class="ot">&lt;-</span> pub_dat<span class="sc">$</span>state_abbreviation[pub_dat<span class="sc">$</span>region <span class="sc">==</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;W.S. Central&quot;</span>]  <span class="co">#groups the states in West South Central</span></span></code></pre></div>
</section>
<section id="initialize-circle" class="slide level2">
<h2>Initialize circle</h2>
<p>Next, we will initialize our circle plot by specifying how tall our tracks should be, and how each section should be divided. In this case, the sectors are divided by each state–our lowest unit of interest in this case.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># determines how &#39;tall&#39; the tracks should be</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.par</span>(<span class="at">track.height =</span> <span class="fl">0.075</span>, <span class="at">canvas.xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>), <span class="at">canvas.ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.3</span>, <span class="fl">1.1</span>))</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># initializes the data, specifies that each state</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co"># will be it&#39;s own category</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.initialize</span>(pub_dat<span class="sc">$</span>state_abbreviation, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">100</span>,</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    <span class="dv">100</span>))</span></code></pre></div>
</section>
<section id="initialize-circle-1" class="slide level2">
<h2>Initialize Circle</h2>
<center>
<img data-src="Figures/1.png" alt="1" />
</center>
</section>
<section id="initialize-circle-2" class="slide level2">
<h2>Initialize Circle</h2>
<p><strong>But there is nothing there!</strong> That is because we have not specified what information we want. To do this, we have to specify one track at a time. Each time we call a track, it will be plotted on consecutive inner rings.</p>
<p class="fragment">
Next, we will add information onto the track. Here, we specify that we want the circular graph to be divided (or sliced) by the state. That will be our sector indicator. For this first track, we want to look at population in 2017. The code <code>circos.text</code> and <code>circos.axis</code> allow for modifying the text surrounding the first track, as well as the track axis positioning and features.
</p>
</section>
<section id="add-information-on-the-track" class="slide level2">
<h2>Add Information on the Track</h2>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># adding track information</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.track</span>(pub_dat<span class="sc">$</span>state_abbreviation, <span class="at">y =</span> pub_dat<span class="sc">$</span>population2017,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.fun =</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">circos.text</span>(CELL_META<span class="sc">$</span>xcenter, CELL_META<span class="sc">$</span>cell.ylim[<span class="dv">2</span>] <span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>            <span class="fu">mm_y</span>(<span class="dv">5</span>) <span class="sc">+</span> <span class="fu">mm_y</span>(<span class="dv">2</span>), <span class="at">niceFacing =</span> T, CELL_META<span class="sc">$</span>sector.index,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">cex =</span> <span class="fl">1.5</span>)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">circos.axis</span>(<span class="at">labels.cex =</span> <span class="fl">0.5</span>, <span class="at">labels =</span> F, <span class="at">major.tick =</span> F)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    })</span></code></pre></div>
</section>
<section id="add-information-on-the-track-1" class="slide level2">
<h2>Add Information on the Track</h2>
<center>
<img data-src="Figures/2.png" width="600" alt="2" />
</center>
</section>
<section id="add-information-on-the-track-2" class="slide level2">
<h2>Add Information on the Track</h2>
<p>We now see that we have a circular graph with state labels, but it does not have any information about the population. If you look at the <code>circlize</code> manual, you’ll see there are many options for treating each cell as its own plot. That is, you can plot histograms, line graphs, box plots, etc… in each cell. But when dealing with so many units, such as 50 states, we may want to display information in a simpler way.</p>
</section>
<section id="specifying-information" class="slide level2">
<h2>Specifying Information</h2>
<p>In this case, we can specify the background color of each cell. The color can correspond to the intensity of the information we are interested in plotting. To do this, we use the <code>color_fun</code> we loaded during the setup in the argument <code>bg.col</code> (i.e. background color).</p>
<p class="fragment">
In the example below, we are going to set up our colors to correspond to population levels. States with lower populations will be a light brown-red color (e.g. <code>burlywood1</code>). States with populations near the median will be <code>red</code>. States with the highest population are the darkest color (e.g. <code>darkred</code>).
</p>
</section>
<section id="specifying-information-1" class="slide level2">
<h2>Specifying Information</h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># adding background color information</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.track</span>(</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  pub_dat<span class="sc">$</span>state_abbreviation,</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> pub_dat<span class="sc">$</span>population2017,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">bg.border =</span> <span class="st">&quot;grey50&quot;</span>,</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Specify color here ##</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">bg.col =</span> <span class="fu">color_fun</span>(pub_dat, population2017, <span class="st">&quot;burlywood1&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;darkred&quot;</span>),</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">panel.fun =</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">circos.text</span>(</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>      CELL_META<span class="sc">$</span>xcenter,</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>      CELL_META<span class="sc">$</span>cell.ylim[<span class="dv">2</span>] <span class="sc">+</span> <span class="fu">mm_y</span>(<span class="dv">5</span>) <span class="sc">+</span> <span class="fu">mm_y</span>(<span class="dv">2</span>),</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">niceFacing =</span> T,</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>      CELL_META<span class="sc">$</span>sector.index,</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex =</span> <span class="fl">1.5</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">circos.axis</span>(<span class="at">labels.cex =</span> <span class="fl">0.5</span>,</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>                <span class="at">labels =</span> F,</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>                <span class="at">major.tick =</span> F)</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</section>
<section id="specifying-information-2" class="slide level2">
<h2>Specifying Information</h2>
<center>
<img data-src="Figures/3.png" width="600" alt="3" />
</center>
<p class="fragment">
As we can see, California is the darkest color, which makes sense.
</p>
</section>
<section id="specifying-information-3" class="slide level2">
<h2>Specifying Information</h2>
<p>If we want to add additional information, we must specify <strong>new track levels</strong>, again using <code>color_fun</code> to change the background color.</p>
</section>
<section id="new-tracks-new-info" class="slide level2">
<h2>New Tracks; New Info</h2>
<p>Here we can add information about the levels of urban populations, non-white residents, residents living in poverty, and uninsured residents per state.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.track</span>(pub_dat<span class="sc">$</span>state_abbreviation, <span class="at">y =</span> pub_dat<span class="sc">$</span>urban_perc2010,</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.col =</span> <span class="fu">color_fun</span>(pub_dat, urban_perc2010, <span class="st">&quot;lightblue1&quot;</span>,</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;lightblue3&quot;</span>, <span class="st">&quot;lightblue4&quot;</span>), <span class="at">bg.border =</span> <span class="st">&quot;grey50&quot;</span>)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.track</span>(pub_dat<span class="sc">$</span>state_abbreviation, <span class="at">y =</span> pub_dat<span class="sc">$</span>non_white,</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.col =</span> <span class="fu">color_fun</span>(pub_dat, non_white, <span class="st">&quot;pink&quot;</span>,</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;pink2&quot;</span>, <span class="st">&quot;pink4&quot;</span>), <span class="at">bg.border =</span> <span class="st">&quot;grey50&quot;</span>)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.track</span>(pub_dat<span class="sc">$</span>state_abbreviation, <span class="at">y =</span> pub_dat<span class="sc">$</span>poverty2017,</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.col =</span> <span class="fu">color_fun</span>(pub_dat, poverty2017, <span class="st">&quot;seashell1&quot;</span>,</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;seashell3&quot;</span>, <span class="st">&quot;seashell4&quot;</span>), <span class="at">bg.border =</span> <span class="st">&quot;grey50&quot;</span>)</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.track</span>(pub_dat<span class="sc">$</span>state_abbreviation, <span class="at">y =</span> pub_dat<span class="sc">$</span>uninsured,</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.col =</span> <span class="fu">color_fun</span>(pub_dat, uninsured, <span class="st">&quot;darkgoldenrod1&quot;</span>,</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;darkgoldenrod3&quot;</span>, <span class="st">&quot;darkgoldenrod4&quot;</span>), <span class="at">bg.border =</span> <span class="st">&quot;grey50&quot;</span>)</span></code></pre></div>
</section>
<section id="new-tracks-new-info-1" class="slide level2">
<h2>New Tracks; New Info</h2>
<center>
<img data-src="Figures/4.png" width="600" alt="4" />
</center>
</section>
<section id="regional-groupings" class="slide level2">
<h2>Regional Groupings</h2>
<p>Although this contains all of the information we may be interested in, it can be a little overwhelming to interpret. Adding in regional groupings can help orient readers.</p>
</section>
<section id="highlighting-sectors" class="slide level2">
<h2>Highlighting Sectors</h2>
<p>Using <code>highlight.sector</code> and the strings of states per region we created before we began, we can group our graph. Again, it should be noted that the states must already be arranged by region.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> en_central,</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">text =</span> <span class="st">&quot;East North Central&quot;</span>,</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2.5inches&quot;</span>,</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span></code></pre></div>
</section>
<section id="highlighting-sectors-1" class="slide level2">
<h2>Highlighting Sectors</h2>
<center>
<img data-src="Figures/5.png" width="600" alt="5" />
</center>
</section>
<section id="more-on-highlighting-sectors" class="slide level2">
<h2>More on Highlighting Sectors</h2>
<p>Within <code>highlight.sector</code> there are a few useful arguments. <code>border</code> specifies the border color. <code>lwd</code> specifies the thickness of the border, <code>text</code> is the label name for the section. <code>niceFacing</code> rotates the bottom text to face outward, making it easier to read. <code>text.vjust</code> allows you to change the vertical justification of the text. And <code>cex</code> is the text size.</p>
</section>
<section id="more-on-highlighting-sectors-1" class="slide level2">
<h2>More on Highlighting Sectors</h2>
<p>We must continue the process above for each region to cover the entire graph.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> es_central,</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">text =</span> <span class="st">&quot;East South Central&quot;</span>,</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2.5inches&quot;</span>,</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> mid_atlantic,</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">text =</span> <span class="st">&quot;Mid-Atlantic&quot;</span>,</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2.5inches&quot;</span>,</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> mountain,</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">text =</span> <span class="st">&quot;Mountain&quot;</span>,</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2.5inches&quot;</span>,</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> new_england,</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">text =</span> <span class="st">&quot;New England&quot;</span>,</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2.5inches&quot;</span>,</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> pacific,</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">text =</span> <span class="st">&quot;Pacific&quot;</span>,</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2.5inches&quot;</span>,</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> south_atlantic,</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">text =</span> <span class="st">&quot;South Atlantic&quot;</span>,</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2.5inches&quot;</span>,</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> wn_central,</span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">text =</span> <span class="st">&quot;West North Central&quot;</span>,</span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2.5inches&quot;</span>,</span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> ws_central,</span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>,</span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">text =</span> <span class="st">&quot;West South Central&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2.5inches&quot;</span>,</span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span></code></pre></div>
</section>
<section id="more-on-highlighting-sectors-2" class="slide level2">
<h2>More on Highlighting Sectors</h2>
<center>
<img data-src="Figures/6.png" width="600" alt="6" />
</center>
</section>
<section id="legendary" class="slide level2">
<h2>Legendary</h2>
<p>While it may look like the graph is complete, we must add a legend!</p>
<p class="fragment">
The best way to do this is to display each ring as a row in the legend. Because of the <code>legend</code> arguments, it is best to specify each element as a matrix, arranged by row.
</p>
</section>
<section id="legendary-1" class="slide level2">
<h2>Legendary</h2>
<p>For <code>border</code>, we specify the first element’s border as <code>NA</code>, because we want to use it as the name of the variable displayed in the track or ring. This is also the case for the <code>fill</code>. We repeat this each time for the number of tracks Finally, since we have the name of the variable and three colors for min, max, and median, we want four columns.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>borders <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rep</span>(<span class="fu">c</span>(<span class="cn">NA</span>, <span class="st">&quot;black&quot;</span>, <span class="st">&quot;black&quot;</span>, <span class="st">&quot;black&quot;</span>),</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>), <span class="at">ncol =</span> <span class="dv">4</span>, <span class="at">byrow =</span> T)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>colors <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="cn">NA</span>, <span class="st">&quot;burlywood1&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;darkred&quot;</span>,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="cn">NA</span>, <span class="st">&quot;lightblue1&quot;</span>, <span class="st">&quot;lightblue3&quot;</span>, <span class="st">&quot;lightblue4&quot;</span>, <span class="cn">NA</span>,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;pink&quot;</span>, <span class="st">&quot;pink2&quot;</span>, <span class="st">&quot;pink4&quot;</span>, <span class="cn">NA</span>, <span class="st">&quot;seashell1&quot;</span>, <span class="st">&quot;seashell3&quot;</span>,</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;seashell4&quot;</span>, <span class="cn">NA</span>, <span class="st">&quot;darkgoldenrod1&quot;</span>, <span class="st">&quot;darkgoldenrod3&quot;</span>,</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;darkgoldenrod4&quot;</span>), <span class="at">ncol =</span> <span class="dv">4</span>, <span class="at">byrow =</span> T)</span></code></pre></div>
</section>
<section id="legendary-2" class="slide level2">
<h2>Legendary</h2>
<p>For the labels, we specify the variable name, as well as labels for each color.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>labels <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="st">&quot;Outter Ring:&quot;</span>, <span class="st">&quot;Min Population&quot;</span>,</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Median Population&quot;</span>, <span class="st">&quot;Max Population&quot;</span>, <span class="st">&quot;Second Ring:&quot;</span>,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Min Urban&quot;</span>, <span class="st">&quot;Median Urban&quot;</span>, <span class="st">&quot;Max Urban&quot;</span>, <span class="st">&quot;Middle Ring:&quot;</span>,</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Min Non-White&quot;</span>, <span class="st">&quot;Median Non-White&quot;</span>, <span class="st">&quot;Max Non-White&quot;</span>,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Fourth Ring:&quot;</span>, <span class="st">&quot;Min Poverty&quot;</span>, <span class="st">&quot;Median Poverty&quot;</span>,</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Max Poverty&quot;</span>, <span class="st">&quot;Inner Ring:&quot;</span>, <span class="st">&quot;Min Uninsured&quot;</span>,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Median Uninsured&quot;</span>, <span class="st">&quot;Max Uninsured&quot;</span>), <span class="at">ncol =</span> <span class="dv">4</span>,</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">byrow =</span> T)</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;bottom&quot;</span>, <span class="at">legend =</span> labels, <span class="at">fill =</span> colors, <span class="at">border =</span> borders,</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="fl">1.4</span>, <span class="at">ncol =</span> <span class="dv">4</span>)</span></code></pre></div>
</section>
<section id="our-graph-state-population-characteristics" class="slide level2">
<h2>Our Graph: State Population Characteristics</h2>
<p>When you run all of this code back-to-back, you get our final graph.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># determines how &#39;tall&#39; the tracks should be</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.par</span>(<span class="at">track.height =</span> <span class="fl">0.075</span>, <span class="at">canvas.xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>), <span class="at">canvas.ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.3</span>, <span class="fl">1.1</span>))</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co"># initializes the data, specifies that each state</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co"># will be it&#39;s own category</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.initialize</span>(pub_dat<span class="sc">$</span>state_abbreviation, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">100</span>,</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    <span class="dv">100</span>))</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="co"># adding track information</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.track</span>(pub_dat<span class="sc">$</span>state_abbreviation, <span class="at">y =</span> pub_dat<span class="sc">$</span>population2017,</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.border =</span> <span class="st">&quot;grey50&quot;</span>, <span class="at">bg.col =</span> <span class="fu">color_fun</span>(pub_dat,</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>        population2017, <span class="st">&quot;burlywood1&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;darkred&quot;</span>),</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.fun =</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>        <span class="fu">circos.text</span>(CELL_META<span class="sc">$</span>xcenter, CELL_META<span class="sc">$</span>cell.ylim[<span class="dv">2</span>] <span class="sc">+</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>            <span class="fu">mm_y</span>(<span class="dv">5</span>) <span class="sc">+</span> <span class="fu">mm_y</span>(<span class="dv">2</span>), <span class="at">niceFacing =</span> T, CELL_META<span class="sc">$</span>sector.index,</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">cex =</span> <span class="fl">1.5</span>)</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">circos.axis</span>(<span class="at">labels.cex =</span> <span class="fl">0.5</span>, <span class="at">labels =</span> F, <span class="at">major.tick =</span> F)</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.track</span>(pub_dat<span class="sc">$</span>state_abbreviation, <span class="at">y =</span> pub_dat<span class="sc">$</span>urban_perc2010,</span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.col =</span> <span class="fu">color_fun</span>(pub_dat, urban_perc2010, <span class="st">&quot;lightblue1&quot;</span>,</span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;lightblue3&quot;</span>, <span class="st">&quot;lightblue4&quot;</span>), <span class="at">bg.border =</span> <span class="st">&quot;grey50&quot;</span>)</span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.track</span>(pub_dat<span class="sc">$</span>state_abbreviation, <span class="at">y =</span> pub_dat<span class="sc">$</span>non_white,</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.col =</span> <span class="fu">color_fun</span>(pub_dat, non_white, <span class="st">&quot;pink&quot;</span>,</span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;pink2&quot;</span>, <span class="st">&quot;pink4&quot;</span>), <span class="at">bg.border =</span> <span class="st">&quot;grey50&quot;</span>)</span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.track</span>(pub_dat<span class="sc">$</span>state_abbreviation, <span class="at">y =</span> pub_dat<span class="sc">$</span>poverty2017,</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.col =</span> <span class="fu">color_fun</span>(pub_dat, poverty2017, <span class="st">&quot;seashell1&quot;</span>,</span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;seashell3&quot;</span>, <span class="st">&quot;seashell4&quot;</span>), <span class="at">bg.border =</span> <span class="st">&quot;grey50&quot;</span>)</span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.track</span>(pub_dat<span class="sc">$</span>state_abbreviation, <span class="at">y =</span> pub_dat<span class="sc">$</span>uninsured,</span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.col =</span> <span class="fu">color_fun</span>(pub_dat, uninsured, <span class="st">&quot;darkgoldenrod1&quot;</span>,</span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;darkgoldenrod3&quot;</span>, <span class="st">&quot;darkgoldenrod4&quot;</span>), <span class="at">bg.border =</span> <span class="st">&quot;grey50&quot;</span>)</span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> en_central,</span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">text =</span> <span class="st">&quot;East North Central&quot;</span>,</span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2.5inches&quot;</span>,</span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> es_central,</span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">text =</span> <span class="st">&quot;East South Central&quot;</span>,</span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2.5inches&quot;</span>,</span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb17-46"><a href="#cb17-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-47"><a href="#cb17-47" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> mid_atlantic,</span>
<span id="cb17-48"><a href="#cb17-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">text =</span> <span class="st">&quot;Mid-Atlantic&quot;</span>,</span>
<span id="cb17-49"><a href="#cb17-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2.5inches&quot;</span>,</span>
<span id="cb17-50"><a href="#cb17-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb17-51"><a href="#cb17-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-52"><a href="#cb17-52" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> mountain,</span>
<span id="cb17-53"><a href="#cb17-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">text =</span> <span class="st">&quot;Mountain&quot;</span>,</span>
<span id="cb17-54"><a href="#cb17-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2.5inches&quot;</span>,</span>
<span id="cb17-55"><a href="#cb17-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb17-56"><a href="#cb17-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-57"><a href="#cb17-57" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> new_england,</span>
<span id="cb17-58"><a href="#cb17-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">text =</span> <span class="st">&quot;New England&quot;</span>,</span>
<span id="cb17-59"><a href="#cb17-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2.5inches&quot;</span>,</span>
<span id="cb17-60"><a href="#cb17-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb17-61"><a href="#cb17-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-62"><a href="#cb17-62" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> pacific,</span>
<span id="cb17-63"><a href="#cb17-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">text =</span> <span class="st">&quot;Pacific&quot;</span>,</span>
<span id="cb17-64"><a href="#cb17-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2.5inches&quot;</span>,</span>
<span id="cb17-65"><a href="#cb17-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb17-66"><a href="#cb17-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-67"><a href="#cb17-67" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> south_atlantic,</span>
<span id="cb17-68"><a href="#cb17-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">text =</span> <span class="st">&quot;South Atlantic&quot;</span>,</span>
<span id="cb17-69"><a href="#cb17-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2.5inches&quot;</span>,</span>
<span id="cb17-70"><a href="#cb17-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb17-71"><a href="#cb17-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-72"><a href="#cb17-72" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> wn_central,</span>
<span id="cb17-73"><a href="#cb17-73" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">text =</span> <span class="st">&quot;West North Central&quot;</span>,</span>
<span id="cb17-74"><a href="#cb17-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2.5inches&quot;</span>,</span>
<span id="cb17-75"><a href="#cb17-75" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb17-76"><a href="#cb17-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-77"><a href="#cb17-77" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> ws_central,</span>
<span id="cb17-78"><a href="#cb17-78" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>,</span>
<span id="cb17-79"><a href="#cb17-79" aria-hidden="true" tabindex="-1"></a>    <span class="at">text =</span> <span class="st">&quot;West South Central&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2.5inches&quot;</span>,</span>
<span id="cb17-80"><a href="#cb17-80" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb17-81"><a href="#cb17-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-82"><a href="#cb17-82" aria-hidden="true" tabindex="-1"></a>borders <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rep</span>(<span class="fu">c</span>(<span class="cn">NA</span>, <span class="st">&quot;black&quot;</span>, <span class="st">&quot;black&quot;</span>, <span class="st">&quot;black&quot;</span>),</span>
<span id="cb17-83"><a href="#cb17-83" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>), <span class="at">ncol =</span> <span class="dv">4</span>, <span class="at">byrow =</span> T)</span>
<span id="cb17-84"><a href="#cb17-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-85"><a href="#cb17-85" aria-hidden="true" tabindex="-1"></a>colors <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="cn">NA</span>, <span class="st">&quot;burlywood1&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;darkred&quot;</span>,</span>
<span id="cb17-86"><a href="#cb17-86" aria-hidden="true" tabindex="-1"></a>    <span class="cn">NA</span>, <span class="st">&quot;lightblue1&quot;</span>, <span class="st">&quot;lightblue3&quot;</span>, <span class="st">&quot;lightblue4&quot;</span>, <span class="cn">NA</span>,</span>
<span id="cb17-87"><a href="#cb17-87" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;pink&quot;</span>, <span class="st">&quot;pink2&quot;</span>, <span class="st">&quot;pink4&quot;</span>, <span class="cn">NA</span>, <span class="st">&quot;seashell1&quot;</span>, <span class="st">&quot;seashell3&quot;</span>,</span>
<span id="cb17-88"><a href="#cb17-88" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;seashell4&quot;</span>, <span class="cn">NA</span>, <span class="st">&quot;darkgoldenrod1&quot;</span>, <span class="st">&quot;darkgoldenrod3&quot;</span>,</span>
<span id="cb17-89"><a href="#cb17-89" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;darkgoldenrod4&quot;</span>), <span class="at">ncol =</span> <span class="dv">4</span>, <span class="at">byrow =</span> T)</span>
<span id="cb17-90"><a href="#cb17-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-91"><a href="#cb17-91" aria-hidden="true" tabindex="-1"></a>labels <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="st">&quot;Outter Ring:&quot;</span>, <span class="st">&quot;Min Population&quot;</span>,</span>
<span id="cb17-92"><a href="#cb17-92" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Median Population&quot;</span>, <span class="st">&quot;Max Population&quot;</span>, <span class="st">&quot;Second Ring:&quot;</span>,</span>
<span id="cb17-93"><a href="#cb17-93" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Min Urban&quot;</span>, <span class="st">&quot;Median Urban&quot;</span>, <span class="st">&quot;Max Urban&quot;</span>, <span class="st">&quot;Middle Ring:&quot;</span>,</span>
<span id="cb17-94"><a href="#cb17-94" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Min Non-White&quot;</span>, <span class="st">&quot;Median Non-White&quot;</span>, <span class="st">&quot;Max Non-White&quot;</span>,</span>
<span id="cb17-95"><a href="#cb17-95" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Fourth Ring:&quot;</span>, <span class="st">&quot;Min Poverty&quot;</span>, <span class="st">&quot;Median Poverty&quot;</span>,</span>
<span id="cb17-96"><a href="#cb17-96" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Max Poverty&quot;</span>, <span class="st">&quot;Inner Ring:&quot;</span>, <span class="st">&quot;Min Uninsured&quot;</span>,</span>
<span id="cb17-97"><a href="#cb17-97" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Median Uninsured&quot;</span>, <span class="st">&quot;Max Uninsured&quot;</span>), <span class="at">ncol =</span> <span class="dv">4</span>,</span>
<span id="cb17-98"><a href="#cb17-98" aria-hidden="true" tabindex="-1"></a>    <span class="at">byrow =</span> T)</span>
<span id="cb17-99"><a href="#cb17-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-100"><a href="#cb17-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-101"><a href="#cb17-101" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;bottom&quot;</span>, <span class="at">legend =</span> labels, <span class="at">fill =</span> colors, <span class="at">border =</span> borders,</span>
<span id="cb17-102"><a href="#cb17-102" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="fl">1.4</span>, <span class="at">ncol =</span> <span class="dv">4</span>)</span></code></pre></div>
</section>
<section id="our-graph" class="slide level2">
<h2>Our Graph</h2>
<center>
<img data-src="Figures/7.png" width="550" alt="7" />
</center>
</section></section>
<section>
<section id="dealing-with-nas" class="title-slide slide level1">
<h1>Dealing with NA’s</h1>
<p>Sometimes, we will have missing data. This adds a bit of complexity to plotting the circular graph.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># determines how &#39;tall&#39; the tracks should be</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.par</span>(<span class="at">track.height =</span> <span class="fl">0.075</span>, <span class="at">canvas.xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.25</span>,</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="fl">1.25</span>), <span class="at">canvas.ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.5</span>, <span class="fl">1.1</span>))</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="co"># initializes the data, specifies that each state</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="co"># will be it&#39;s own category</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.initialize</span>(pub_dat<span class="sc">$</span>state_abbreviation, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>))</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="co"># adding track information</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.track</span>(pub_dat<span class="sc">$</span>state_abbreviation, <span class="at">y =</span> pub_dat<span class="sc">$</span>op_prescription100person_2018,</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.border =</span> <span class="st">&quot;grey50&quot;</span>, <span class="at">bg.col =</span> <span class="fu">color_fun</span>(pub_dat,</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>        op_prescription100person_2018, <span class="st">&quot;burlywood1&quot;</span>,</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;red&quot;</span>, <span class="st">&quot;darkred&quot;</span>), <span class="at">panel.fun =</span> <span class="cf">function</span>(x,</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>        y) {</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>        <span class="fu">circos.text</span>(CELL_META<span class="sc">$</span>xcenter, CELL_META<span class="sc">$</span>cell.ylim[<span class="dv">2</span>] <span class="sc">+</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>            <span class="fu">mm_y</span>(<span class="dv">5</span>) <span class="sc">+</span> <span class="fu">mm_y</span>(<span class="dv">2</span>), <span class="at">niceFacing =</span> T, CELL_META<span class="sc">$</span>sector.index,</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>            <span class="at">cex =</span> <span class="fl">1.5</span>)</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>        <span class="fu">circos.axis</span>(<span class="at">labels.cex =</span> <span class="fl">0.5</span>, <span class="at">labels =</span> F, <span class="at">major.tick =</span> F)</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a><span class="do">## Second Track on Opioid Admissions</span></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.track</span>(pub_dat<span class="sc">$</span>state_abbreviation, <span class="at">y =</span> pub_dat<span class="sc">$</span>opioid_admissions,</span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.col =</span> <span class="fu">color_fun</span>(pub_dat, opioid_admissions,</span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;mediumpurple1&quot;</span>, <span class="st">&quot;mediumpurple3&quot;</span>, <span class="st">&quot;mediumpurple4&quot;</span>),</span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.border =</span> <span class="st">&quot;grey50&quot;</span>)</span></code></pre></div>
</section>
<section id="dealing-with-nas-1" class="slide level2">
<h2>Dealing with NA’s</h2>
<center>
<img data-src="Figures/8.png" width="600" alt="8" />
</center>
</section>
<section id="dealing-with-nas-2" class="slide level2">
<h2>Dealing with NA’s</h2>
<p>Here, we see that our second track did not plot. Upon looking at the data, we see we have missing values.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(pub_dat<span class="sc">$</span>opioid_admissions)</span></code></pre></div>
<center>
<img data-src="Figures/NA.png" alt="NA" />
</center>
</section>
<section id="dealing-with-nas-3" class="slide level2">
<h2>Dealing with NA’s</h2>
<p>To deal with this, we must replace the missing values both in our color scale and our data. For the string of colors created using <code>color_fun</code>, we replace the missing values with white (e.g.“#FFFFFFFF”). For our data, we substitute a value that is not in our data for the NA value. In this case, I use 0, because none of the states report 0 opioid admissions. It is important to use <code>color_fun</code> beforehand this modification, so that the function does not account for the added value in its color scale calculation.</p>
</section>
<section id="dealing-with-nas-4" class="slide level2">
<h2>Dealing with NA’s</h2>
<p>Finally, we can plot the track with the appropriate scale, leaving out the missing states in white.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>admis_col <span class="ot">&lt;-</span> <span class="fu">color_fun</span>(pub_dat, opioid_admissions,</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;mediumpurple1&quot;</span>, <span class="st">&quot;mediumpurple3&quot;</span>, <span class="st">&quot;mediumpurple4&quot;</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Making NA&#39;s white</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>admission_colors <span class="ot">&lt;-</span> <span class="fu">replace_na</span>(admis_col, <span class="st">&quot;#FFFFFFFF&quot;</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>admission <span class="ot">&lt;-</span> <span class="fu">replace_na</span>(pub_dat<span class="sc">$</span>opioid_admissions,</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    <span class="dv">0</span>)</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.track</span>(pub_dat<span class="sc">$</span>state_abbreviation, <span class="at">y =</span> admission,</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.col =</span> admission_colors, <span class="at">bg.border =</span> <span class="st">&quot;grey50&quot;</span>)</span></code></pre></div>
</section>
<section id="dealing-with-nas-5" class="slide level2">
<h2>Dealing with NA’s</h2>
<center>
<img data-src="Figures/9.png" width="600" alt="9" />
</center>
</section>
<section id="labeling-nas" class="slide level2">
<h2>Labeling NA’s</h2>
<p>However, we may want to give our viewers an understanding of what the white cells mean. In this case, we can write ‘NA’ for our missing values. In this example, we are missing data for Maryland, Georgia, and Oregon. In <code>circos.text</code>, the first two arguments are the x and y locations of the plot. <code>adj</code> is the radial adjustment of the text. In this case, we want the text to be centered in the middle of the cell (e.g. <code>adj = c(0.5, 0)</code>, we want the text to state ‘NA’, and the color to be <code>red4</code>. <code>track.index</code> specifies which track we want to add the text in. Since this is the second ring, we specify <code>track.index = 2</code>. <code>sector.index</code> is the sector or slice we want. In this case, we have three sectors: MD, GA, and OR.</p>
</section>
<section id="labeling-nas-1" class="slide level2">
<h2>Labeling NA’s</h2>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.text</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="at">adj =</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="dv">0</span>), <span class="st">&quot;NA&quot;</span>, <span class="at">col =</span> <span class="st">&quot;red4&quot;</span>,</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">sector.index =</span> <span class="st">&quot;MD&quot;</span>, <span class="at">track.index =</span> <span class="dv">2</span>, <span class="at">cex =</span> <span class="fl">1.8</span>,</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.text</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="at">adj =</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="dv">0</span>), <span class="st">&quot;NA&quot;</span>, <span class="at">col =</span> <span class="st">&quot;red4&quot;</span>,</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">sector.index =</span> <span class="st">&quot;GA&quot;</span>, <span class="at">track.index =</span> <span class="dv">2</span>, <span class="at">cex =</span> <span class="fl">1.8</span>,</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.text</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="at">adj =</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="dv">0</span>), <span class="st">&quot;NA&quot;</span>, <span class="at">col =</span> <span class="st">&quot;red4&quot;</span>,</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">sector.index =</span> <span class="st">&quot;OR&quot;</span>, <span class="at">track.index =</span> <span class="dv">2</span>, <span class="at">cex =</span> <span class="fl">1.8</span>,</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T)</span></code></pre></div>
</section>
<section id="labeling-nas-2" class="slide level2">
<h2>Labeling NA’s</h2>
<center>
<img data-src="Figures/10.png" width="600" alt="10" />
</center>
</section>
<section id="continue-with-graph" class="slide level2">
<h2>Continue with Graph</h2>
<p>From there, we can continue adding our tracks, regional groupings, and legends as we did above.</p>
<p>The full code will look something like this:</p>
</section>
<section id="opioid-use-and-mortality" class="slide level2">
<h2>Opioid Use and Mortality</h2>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># determines how &#39;tall&#39; the tracks should be</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.par</span>(<span class="at">track.height =</span> <span class="fl">0.075</span>, <span class="at">canvas.xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.25</span>,</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="fl">1.25</span>), <span class="at">canvas.ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.5</span>, <span class="fl">1.1</span>))</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="co"># initializes the data, specifies that each state</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co"># will be it&#39;s own category</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.initialize</span>(pub_dat<span class="sc">$</span>state_abbreviation, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>))</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="co"># adding track information</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.track</span>(pub_dat<span class="sc">$</span>state_abbreviation, <span class="at">y =</span> pub_dat<span class="sc">$</span>op_prescription100person_2018,</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.border =</span> <span class="st">&quot;grey50&quot;</span>, <span class="at">bg.col =</span> <span class="fu">color_fun</span>(pub_dat,</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>        op_prescription100person_2018, <span class="st">&quot;burlywood1&quot;</span>,</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;red&quot;</span>, <span class="st">&quot;darkred&quot;</span>), <span class="at">panel.fun =</span> <span class="cf">function</span>(x,</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>        y) {</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>        <span class="fu">circos.text</span>(CELL_META<span class="sc">$</span>xcenter, CELL_META<span class="sc">$</span>cell.ylim[<span class="dv">2</span>] <span class="sc">+</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>            <span class="fu">mm_y</span>(<span class="dv">5</span>) <span class="sc">+</span> <span class="fu">mm_y</span>(<span class="dv">2</span>), <span class="at">niceFacing =</span> T, CELL_META<span class="sc">$</span>sector.index,</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>            <span class="at">cex =</span> <span class="fl">1.5</span>)</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>        <span class="fu">circos.axis</span>(<span class="at">labels.cex =</span> <span class="fl">0.5</span>, <span class="at">labels =</span> F, <span class="at">major.tick =</span> F)</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>admis_col <span class="ot">&lt;-</span> <span class="fu">color_fun</span>(pub_dat, opioid_admissions,</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;mediumpurple1&quot;</span>, <span class="st">&quot;mediumpurple3&quot;</span>, <span class="st">&quot;mediumpurple4&quot;</span>)</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>admission_colors <span class="ot">&lt;-</span> <span class="fu">replace_na</span>(admis_col, <span class="st">&quot;#FFFFFFFF&quot;</span>)</span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>admission <span class="ot">&lt;-</span> <span class="fu">replace_na</span>(pub_dat<span class="sc">$</span>opioid_admissions,</span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>    <span class="dv">0</span>)</span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.track</span>(pub_dat<span class="sc">$</span>state_abbreviation, <span class="at">y =</span> admission,</span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.col =</span> admission_colors, <span class="at">bg.border =</span> <span class="st">&quot;grey50&quot;</span>)</span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.text</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="at">adj =</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="dv">0</span>), <span class="st">&quot;NA&quot;</span>, <span class="at">col =</span> <span class="st">&quot;red4&quot;</span>,</span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">sector.index =</span> <span class="st">&quot;MD&quot;</span>, <span class="at">track.index =</span> <span class="dv">2</span>, <span class="at">cex =</span> <span class="fl">1.8</span>,</span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T)</span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.text</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="at">adj =</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="dv">0</span>), <span class="st">&quot;NA&quot;</span>, <span class="at">col =</span> <span class="st">&quot;red4&quot;</span>,</span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">sector.index =</span> <span class="st">&quot;GA&quot;</span>, <span class="at">track.index =</span> <span class="dv">2</span>, <span class="at">cex =</span> <span class="fl">1.8</span>,</span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T)</span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.text</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="at">adj =</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="dv">0</span>), <span class="st">&quot;NA&quot;</span>, <span class="at">col =</span> <span class="st">&quot;red4&quot;</span>,</span>
<span id="cb22-42"><a href="#cb22-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">sector.index =</span> <span class="st">&quot;OR&quot;</span>, <span class="at">track.index =</span> <span class="dv">2</span>, <span class="at">cex =</span> <span class="fl">1.8</span>,</span>
<span id="cb22-43"><a href="#cb22-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T)</span>
<span id="cb22-44"><a href="#cb22-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-45"><a href="#cb22-45" aria-hidden="true" tabindex="-1"></a><span class="fu">circos.track</span>(pub_dat<span class="sc">$</span>state_abbreviation, <span class="at">y =</span> pub_dat<span class="sc">$</span>op_deaths100k2017,</span>
<span id="cb22-46"><a href="#cb22-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.col =</span> <span class="fu">color_fun</span>(pub_dat, op_deaths100k2017,</span>
<span id="cb22-47"><a href="#cb22-47" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;darkolivegreen1&quot;</span>, <span class="st">&quot;darkolivegreen3&quot;</span>, <span class="st">&quot;darkolivegreen4&quot;</span>),</span>
<span id="cb22-48"><a href="#cb22-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.border =</span> <span class="st">&quot;grey50&quot;</span>)</span>
<span id="cb22-49"><a href="#cb22-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-50"><a href="#cb22-50" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> en_central,</span>
<span id="cb22-51"><a href="#cb22-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">text =</span> <span class="st">&quot;East North Central&quot;</span>,</span>
<span id="cb22-52"><a href="#cb22-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2inches&quot;</span>,</span>
<span id="cb22-53"><a href="#cb22-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb22-54"><a href="#cb22-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-55"><a href="#cb22-55" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> es_central,</span>
<span id="cb22-56"><a href="#cb22-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">text =</span> <span class="st">&quot;East South Central&quot;</span>,</span>
<span id="cb22-57"><a href="#cb22-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2inches&quot;</span>,</span>
<span id="cb22-58"><a href="#cb22-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb22-59"><a href="#cb22-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-60"><a href="#cb22-60" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> mid_atlantic,</span>
<span id="cb22-61"><a href="#cb22-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">text =</span> <span class="st">&quot;Mid-Atlantic&quot;</span>,</span>
<span id="cb22-62"><a href="#cb22-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2inches&quot;</span>,</span>
<span id="cb22-63"><a href="#cb22-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb22-64"><a href="#cb22-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-65"><a href="#cb22-65" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> mountain,</span>
<span id="cb22-66"><a href="#cb22-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">text =</span> <span class="st">&quot;Mountain&quot;</span>,</span>
<span id="cb22-67"><a href="#cb22-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2inches&quot;</span>,</span>
<span id="cb22-68"><a href="#cb22-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb22-69"><a href="#cb22-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-70"><a href="#cb22-70" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> new_england,</span>
<span id="cb22-71"><a href="#cb22-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">text =</span> <span class="st">&quot;New England&quot;</span>,</span>
<span id="cb22-72"><a href="#cb22-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2inches&quot;</span>,</span>
<span id="cb22-73"><a href="#cb22-73" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb22-74"><a href="#cb22-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-75"><a href="#cb22-75" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> pacific,</span>
<span id="cb22-76"><a href="#cb22-76" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">text =</span> <span class="st">&quot;Pacific&quot;</span>,</span>
<span id="cb22-77"><a href="#cb22-77" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2inches&quot;</span>,</span>
<span id="cb22-78"><a href="#cb22-78" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb22-79"><a href="#cb22-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-80"><a href="#cb22-80" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> south_atlantic,</span>
<span id="cb22-81"><a href="#cb22-81" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">text =</span> <span class="st">&quot;South Atlantic&quot;</span>,</span>
<span id="cb22-82"><a href="#cb22-82" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2inches&quot;</span>,</span>
<span id="cb22-83"><a href="#cb22-83" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb22-84"><a href="#cb22-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-85"><a href="#cb22-85" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> wn_central,</span>
<span id="cb22-86"><a href="#cb22-86" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">text =</span> <span class="st">&quot;West North Central&quot;</span>,</span>
<span id="cb22-87"><a href="#cb22-87" aria-hidden="true" tabindex="-1"></a>    <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2inches&quot;</span>,</span>
<span id="cb22-88"><a href="#cb22-88" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb22-89"><a href="#cb22-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-90"><a href="#cb22-90" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight.sector</span>(<span class="at">col =</span> <span class="cn">NULL</span>, <span class="at">sector.index =</span> ws_central,</span>
<span id="cb22-91"><a href="#cb22-91" aria-hidden="true" tabindex="-1"></a>    <span class="at">border =</span> <span class="st">&quot;black&quot;</span>, <span class="at">lwd =</span> <span class="fl">3.5</span>, <span class="at">niceFacing =</span> T, <span class="at">facing =</span> <span class="st">&quot;bending.inside&quot;</span>,</span>
<span id="cb22-92"><a href="#cb22-92" aria-hidden="true" tabindex="-1"></a>    <span class="at">text =</span> <span class="st">&quot;West South Central&quot;</span>, <span class="at">text.vjust =</span> <span class="st">&quot;2inches&quot;</span>,</span>
<span id="cb22-93"><a href="#cb22-93" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb22-94"><a href="#cb22-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-95"><a href="#cb22-95" aria-hidden="true" tabindex="-1"></a>borders <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rep</span>(<span class="fu">c</span>(<span class="cn">NA</span>, <span class="st">&quot;black&quot;</span>, <span class="st">&quot;black&quot;</span>, <span class="st">&quot;black&quot;</span>),</span>
<span id="cb22-96"><a href="#cb22-96" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>), <span class="at">ncol =</span> <span class="dv">4</span>, <span class="at">byrow =</span> T)</span>
<span id="cb22-97"><a href="#cb22-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-98"><a href="#cb22-98" aria-hidden="true" tabindex="-1"></a>colors <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="cn">NA</span>, <span class="st">&quot;burlywood1&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;darkred&quot;</span>,</span>
<span id="cb22-99"><a href="#cb22-99" aria-hidden="true" tabindex="-1"></a>    <span class="cn">NA</span>, <span class="st">&quot;mediumpurple1&quot;</span>, <span class="st">&quot;mediumpurple3&quot;</span>, <span class="st">&quot;mediumpurple4&quot;</span>,</span>
<span id="cb22-100"><a href="#cb22-100" aria-hidden="true" tabindex="-1"></a>    <span class="cn">NA</span>, <span class="st">&quot;darkolivegreen1&quot;</span>, <span class="st">&quot;darkolivegreen3&quot;</span>, <span class="st">&quot;darkolivegreen4&quot;</span>),</span>
<span id="cb22-101"><a href="#cb22-101" aria-hidden="true" tabindex="-1"></a>    <span class="at">ncol =</span> <span class="dv">4</span>, <span class="at">byrow =</span> T)</span>
<span id="cb22-102"><a href="#cb22-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-103"><a href="#cb22-103" aria-hidden="true" tabindex="-1"></a>labels <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="st">&quot;Outter Ring: Opioid Rx (100 People)&quot;</span>,</span>
<span id="cb22-104"><a href="#cb22-104" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Min &quot;</span>, <span class="st">&quot;Median&quot;</span>, <span class="st">&quot;Max&quot;</span>, <span class="st">&quot;Middle Ring: Admissions (100k People)&quot;</span>,</span>
<span id="cb22-105"><a href="#cb22-105" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Min&quot;</span>, <span class="st">&quot;Median&quot;</span>, <span class="st">&quot;Max&quot;</span>, <span class="st">&quot;Inner Ring: Opioid Deaths (100k People)&quot;</span>,</span>
<span id="cb22-106"><a href="#cb22-106" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Min&quot;</span>, <span class="st">&quot;Median&quot;</span>, <span class="st">&quot;Max&quot;</span>), <span class="at">ncol =</span> <span class="dv">4</span>, <span class="at">byrow =</span> T)</span>
<span id="cb22-107"><a href="#cb22-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-108"><a href="#cb22-108" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;bottom&quot;</span>, <span class="at">legend =</span> labels, <span class="at">fill =</span> colors, <span class="at">border =</span> borders,</span>
<span id="cb22-109"><a href="#cb22-109" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="fl">1.4</span>, <span class="at">ncol =</span> <span class="dv">4</span>)</span></code></pre></div>
</section></section>
<section id="final-graph" class="title-slide slide level1">
<h1>Final Graph!</h1>
<center>
<img data-src="Figures/11.png" width="600" alt="11" />
</center>
</section>
    </div>
  </div>

  <script src="How-to-Create-Circular-Graphs-in-R-Slides_files/reveal.js-3.3.0.1/lib/js/head.min.js"></script>
  <script src="How-to-Create-Circular-Graphs-in-R-Slides_files/reveal.js-3.3.0.1/js/reveal.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Push each slide change to the browser history
        history: true,
        // Vertical centering of slides
        center: false,
        // Transition style
        transition: 'default', // none/fade/slide/convex/concave/zoom
        // Transition style for full page slide backgrounds
        backgroundTransition: 'default', // none/fade/slide/convex/concave/zoom



        // Optional reveal.js plugins
        dependencies: [
          { src: 'How-to-Create-Circular-Graphs-in-R-Slides_files/reveal.js-3.3.0.1/plugin/notes/notes.js', async: true },
        ]
      });
    </script>
  <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
      document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>

<script>
  (function() {
    if (window.jQuery) {
      Reveal.addEventListener( 'slidechanged', function(event) {  
        window.jQuery(event.previousSlide).trigger('hidden');
        window.jQuery(event.currentSlide).trigger('shown');
      });
    }
  })();
</script>


  </body>
</html>
